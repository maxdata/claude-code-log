import"../chunks/Bzak7iHL.js";import"../chunks/LlkqXnXa.js";import{B as je,w as ps,z as _e,i as X,az as ce,j as Ie,g as f,S as ge,x as _s,H as gs,y as Je,A as Fe,J as ae,af as qe,aH as ms,C as He,F as bs,D as ws,ae as ys,L as re,ac as Pe,aE as Xe,aw as xs,aT as $s,G as Ke,I as Ss,aU as Ts,aV as Cs,aW as Me,an as Ze,at as Qe,aX as Es,aD as As,aY as Ds,W as es,t as O,aZ as Fs,aI as Ms,aB as Ns,aG as Ye,aJ as Is,a_ as Hs,a$ as Ls,b0 as ks,b1 as Us,p as we,n as L,q as v,s as o,v as E,m as D,o as ye,O as J,aa as ze,k as ue,l as te,e as U,b as $,b2 as ss,b3 as as,b4 as Rs}from"../chunks/DddK18v8.js";import{c as Os,e as K,s as R,d as Ue,w as ie,b as Vs}from"../chunks/59xXa_gx.js";import{i as W,p as Bs,s as ts,a as se}from"../chunks/DBwkRAqr.js";import{i as xe}from"../chunks/ys-S3jR6.js";function rs(s,a){return a}function Js(s,a,e){for(var t=s.items,r=[],n=a.length,i=0;i<n;i++)Es(a[i].e,r,!0);var d=n>0&&r.length===0&&e!==null;if(d){var y=e.parentNode;As(y),y.append(e),t.clear(),Q(s,a[0].prev,a[n-1].next)}Ds(r,()=>{for(var w=0;w<n;w++){var _=a[w];d||(t.delete(_.k),Q(s,_.prev,_.next)),Ze(_.e,!d)}})}function Le(s,a,e,t,r,n=null){var i=s,d={flags:a,items:new Map,first:null};{var y=s;i=X?_e(ce(y)):y.appendChild(je())}X&&Ie();var w=null,_=!1,T=new Map,c=ge(()=>{var x=e();return xs(x)?x:x==null?[]:Xe(x)}),g,m;function p(){Ps(m,g,d,T,i,r,a,t,e),n!==null&&(g.length===0?w?Ke(w):w=He(()=>n(i)):w!==null&&Ss(w,()=>{w=null}))}ps(()=>{m??(m=es),g=f(c);var x=g.length;if(_&&x===0)return;_=x===0;let I=!1;if(X){var k=_s(i)===gs;k!==(x===0)&&(i=Je(),_e(i),Fe(!1),I=!0)}if(X){for(var C=null,l,u=0;u<x;u++){if(ae.nodeType===qe&&ae.data===ms){i=ae,I=!0,Fe(!1);break}var F=g[u],M=t(F,u);l=ke(ae,d,C,null,F,M,u,r,a,e),d.items.set(M,l),C=l}x>0&&_e(Je())}if(X)x===0&&n&&(w=He(()=>n(i)));else if(bs()){var b=new Set,A=ws;for(u=0;u<x;u+=1){F=g[u],M=t(F,u);var Y=d.items.get(M)??T.get(M);Y?is(Y,F,u):(l=ke(null,d,null,null,F,M,u,r,a,e,!0),T.set(M,l)),b.add(M)}for(const[h,S]of d.items)b.has(h)||A.skipped_effects.add(S.e);A.add_callback(p)}else p();I&&Fe(!0),f(c)}),X&&(i=ae)}function Ps(s,a,e,t,r,n,i,d,y){var w=a.length,_=e.items,T=e.first,c=T,g,m=null,p=[],x=[],I,k,C,l;for(l=0;l<w;l+=1){if(I=a[l],k=d(I,l),C=_.get(k),C===void 0){var u=t.get(k);if(u!==void 0){t.delete(k),_.set(k,u);var F=m?m.next:c;Q(e,m,u),Q(e,u,F),Ne(u,F,r),m=u}else{var M=c?c.e.nodes_start:r;m=ke(M,e,m,m===null?e.first:m.next,I,k,l,n,i,y)}_.set(k,m),p=[],x=[],c=m.next;continue}if(is(C,I,l),(C.e.f&Me)!==0&&Ke(C.e),C!==c){if(g!==void 0&&g.has(C)){if(p.length<x.length){var b=x[0],A;m=b.prev;var Y=p[0],h=p[p.length-1];for(A=0;A<p.length;A+=1)Ne(p[A],b,r);for(A=0;A<x.length;A+=1)g.delete(x[A]);Q(e,Y.prev,h.next),Q(e,m,Y),Q(e,h,b),c=b,m=h,l-=1,p=[],x=[]}else g.delete(C),Ne(C,c,r),Q(e,C.prev,C.next),Q(e,C,m===null?e.first:m.next),Q(e,m,C),m=C;continue}for(p=[],x=[];c!==null&&c.k!==k;)(c.e.f&Me)===0&&(g??(g=new Set)).add(c),x.push(c),c=c.next;if(c===null)continue;C=c}p.push(C),m=C,c=C.next}if(c!==null||g!==void 0){for(var S=g===void 0?[]:Xe(g);c!==null;)(c.e.f&Me)===0&&S.push(c),c=c.next;var N=S.length;if(N>0){var H=w===0?r:null;Js(e,S,H)}}s.first=e.first&&e.first.e,s.last=m&&m.e;for(var G of t.values())Ze(G.e);t.clear()}function is(s,a,e,t){ys(s.v,a),s.i=e}function ke(s,a,e,t,r,n,i,d,y,w,_){var T=(y&Ts)!==0,c=(y&Cs)===0,g=T?c?re(r,!1,!1):Pe(r):r,m=(y&$s)===0?i:Pe(i),p={i:m,v:g,k:n,a:null,e:null,prev:e,next:t};try{if(s===null){var x=document.createDocumentFragment();x.append(s=je())}return p.e=He(()=>d(s,g,m,w),X),p.e.prev=e&&e.e,p.e.next=t&&t.e,e===null?_||(a.first=p):(e.next=p,e.e.next=p.e),t!==null&&(t.prev=p,t.e.prev=p.e),p}finally{}}function Ne(s,a,e){for(var t=s.next?s.next.e.nodes_start:e,r=a?a.e.nodes_start:e,n=s.e.nodes_start;n!==null&&n!==t;){var i=Qe(n);r.before(n),n=i}}function Q(s,a,e){a===null?s.first=e:(a.next=e,a.e.next=e&&e.e),e!==null&&(e.prev=a,e.e.prev=a&&a.e)}function Ys(s,a,e=!1,t=!1,r=!1){var n=s,i="";O(()=>{var d=es;if(i===(i=a()??"")){X&&Ie();return}if(d.nodes_start!==null&&(Fs(d.nodes_start,d.nodes_end),d.nodes_start=d.nodes_end=null),i!==""){if(X){ae.data;for(var y=Ie(),w=y;y!==null&&(y.nodeType!==qe||y.data!=="");)w=y,y=Qe(y);if(y===null)throw Ms(),Ns;Ye(ae,w),n=_e(y);return}var _=i+"";e?_=`<svg>${_}</svg>`:t&&(_=`<math>${_}</math>`);var T=Is(_);if((e||t)&&(T=ce(T)),Ye(ce(T),T.lastChild),e||t)for(;ce(T);)n.before(ce(T));else n.before(T)}})}const We=[...` 	
\r\f¬†\v\uFEFF`];function zs(s,a,e){var t=s==null?"":""+s;if(a&&(t=t?t+" "+a:a),e){for(var r in e)if(e[r])t=t?t+" "+r:r;else if(t.length)for(var n=r.length,i=0;(i=t.indexOf(r,i))>=0;){var d=i+n;(i===0||We.includes(t[i-1]))&&(d===t.length||We.includes(t[d]))?t=(i===0?"":t.substring(0,i))+t.substring(d+1):i=d}}return t===""?null:t}function de(s,a,e,t,r,n){var i=s.__className;if(X||i!==e||i===void 0){var d=zs(e,t,n);(!X||d!==s.getAttribute("class"))&&(d==null?s.removeAttribute("class"):s.className=d),s.__className=e}else if(n&&r!==n)for(var y in n){var w=!!n[y];(r==null||w!==!!r[y])&&s.classList.toggle(y,w)}return n}const Ws=Symbol("is custom element"),Gs=Symbol("is html");function me(s,a,e,t){var r=js(s);X&&(r[a]=s.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&s.nodeName==="LINK")||r[a]!==(r[a]=e)&&(a==="loading"&&(s[ks]=e),e==null?s.removeAttribute(a):typeof e!="string"&&qs(s).includes(a)?s[a]=e:s.setAttribute(a,e))}function js(s){return s.__attributes??(s.__attributes={[Ws]:s.nodeName.includes("-"),[Gs]:s.namespaceURI===Hs})}var Ge=new Map;function qs(s){var a=s.getAttribute("is")||s.nodeName,e=Ge.get(a);if(e)return e;Ge.set(a,e=[]);for(var t,r=s,n=Element.prototype;n!==r;){t=Us(r);for(var i in t)t[i].set&&e.push(i);r=Ls(r)}return e}const Xs="http://localhost:8000/api";class Ks extends Error{constructor(a,e){super(a),this.status=e,this.name="ApiError"}}async function Zs(s){if(!s.ok){const a=await s.text();throw new Ks(`HTTP ${s.status}: ${a}`,s.status)}return s.json()}async function Qs(s,a){const e=new FormData;for(let n=0;n<s.length;n++)e.append("files",s[n]);const t=new URL(`${Xs}/parse-files`),r=await fetch(t,{method:"POST",body:e});return Zs(r)}function ea(s){const a=[],e=[];for(let t=0;t<s.length;t++){const r=s[t];r.name.endsWith(".jsonl")?a.push(r):e.push(r.name)}return{valid:a,invalid:e}}var sa=L('<div class="uploading-state svelte-ux1wx1"><div class="spinner svelte-ux1wx1"></div> <p class="svelte-ux1wx1">Processing JSONL files...</p></div>'),aa=L('<div class="upload-content svelte-ux1wx1"><div class="upload-icon svelte-ux1wx1">üìÅ</div> <h3 class="svelte-ux1wx1">Upload Claude Transcript Files</h3> <p class="svelte-ux1wx1">Drag and drop .jsonl files here, or</p> <label for="file-input" class="upload-button svelte-ux1wx1">Choose Files</label> <input id="file-input" type="file" accept=".jsonl" multiple style="display: none;" class="svelte-ux1wx1"/> <p class="file-info svelte-ux1wx1"><!></p></div>'),ta=L('<div class="error-message svelte-ux1wx1"><span class="error-icon svelte-ux1wx1">‚ùå</span> </div>'),ra=L('<div class="file-upload svelte-ux1wx1"><div role="button" tabindex="0"><!></div> <!></div>');function ia(s,a){we(a,!1);const e=Os();let t=re(null),r=re(!1),n=re(!1),i=re("");function d(l){l.preventDefault(),J(r,!0)}function y(l){l.preventDefault(),J(r,!1)}function w(l){var u;l.preventDefault(),J(r,!1),(u=l.dataTransfer)!=null&&u.files&&(J(t,l.dataTransfer.files),T())}function _(l){const u=l.target;u.files&&(J(t,u.files),T())}async function T(){if(!(!f(t)||f(t).length===0)){J(i,""),J(n,!0);try{const{valid:l,invalid:u}=ea(f(t));if(u.length>0){J(i,`Invalid files (not .jsonl): ${u.join(", ")}`),J(n,!1);return}if(l.length===0){J(i,"No valid JSONL files selected"),J(n,!1);return}const F=await Qs(f(t));e("success",F)}catch(l){console.error("Upload failed:",l),J(i,l instanceof Error?l.message:"Upload failed"),e("error",f(i))}finally{J(n,!1)}}}xe();var c=ra(),g=v(c);let m;var p=v(g);{var x=l=>{var u=sa();D(l,u)},I=l=>{var u=aa(),F=E(v(u),8),M=E(F,2),b=v(M);{var A=h=>{var S=ze();O(()=>R(S,`Selected: ${f(t).length??""} file${f(t).length===1?"":"s"}`)),D(h,S)},Y=h=>{var S=ze("Supports multiple .jsonl files");D(h,S)};W(b,h=>{f(t)&&f(t).length>0?h(A):h(Y,!1)})}o(M),o(u),K("change",F,_),D(l,u)};W(p,l=>{f(n)?l(x):l(I,!1)})}o(g);var k=E(g,2);{var C=l=>{var u=ta(),F=E(v(u));o(u),O(()=>R(F,` ${f(i)??""}`)),D(l,u)};W(k,l=>{f(i)&&l(C)})}o(c),O(l=>m=de(g,1,"drop-zone svelte-ux1wx1",null,m,l),[()=>({"drag-active":f(r),uploading:f(n)})]),K("dragover",g,d),K("dragleave",g,y),K("drop",g,w),D(s,c),ye()}var na=L('<div class="session-divider svelte-1cuch7i"></div> <div class="message session-header svelte-1cuch7i"><div class="header svelte-1cuch7i"><span class="session-title svelte-1cuch7i"> </span></div></div>',1),la=L('<span class="token-usage svelte-1cuch7i"> </span>'),oa=L('<img alt="Uploaded image" class="message-image svelte-1cuch7i"/>'),va=L('<details class="collapsible-details svelte-1cuch7i"><summary class="svelte-1cuch7i"><div class="preview-content svelte-1cuch7i"><pre class="svelte-1cuch7i"> </pre></div></summary> <div class="details-content svelte-1cuch7i"><pre class="svelte-1cuch7i"> </pre></div></details>'),ca=L('<pre class="svelte-1cuch7i"> </pre>'),ua=L('<div><div class="header svelte-1cuch7i"><span class="message-type svelte-1cuch7i"> </span> <div class="metadata svelte-1cuch7i"><span class="timestamp svelte-1cuch7i"> </span> <!></div></div> <div class="content svelte-1cuch7i"><!></div></div>');function da(s,a){we(a,!1);let e=Bs(a,"message",8);function t(_){return{user:"ü§∑",assistant:"ü§ñ",system:"‚öôÔ∏è",tool_use:"üõ†Ô∏è",tool_result:"üß∞",thinking:"üí≠",image:"üñºÔ∏è"}[_]||"üìÑ"}function r(_){return["tool_use","tool_result"].includes(_)}function n(_){return _.length>500}xe();var i=ue(),d=te(i);{var y=_=>{var T=na(),c=E(te(T),2),g=v(c),m=v(g),p=v(m);o(m),o(g),o(c),O(()=>{me(c,"id",`session-${U(e()),$(()=>e().sessionId)??""}`),R(p,`Session: ${U(e()),$(()=>e().content)??""}`)}),D(_,T)},w=_=>{var T=ua(),c=v(T),g=v(c),m=v(g);o(g);var p=E(g,2),x=v(p),I=v(x,!0);o(x);var k=E(x,2);{var C=b=>{var A=la(),Y=v(A,!0);o(A),O(()=>R(Y,(U(e()),$(()=>e().tokenUsage)))),D(b,A)};W(k,b=>{U(e()),$(()=>e().tokenUsage)&&b(C)})}o(p),o(c);var l=E(c,2),u=v(l);{var F=b=>{var A=oa();O(()=>me(A,"src",(U(e()),$(()=>e().content)))),D(b,A)},M=b=>{var A=ue(),Y=te(A);{var h=N=>{var H=va(),G=v(H),ee=v(G),j=v(ee),V=v(j);o(j),o(ee),o(G);var P=E(G,2),Z=v(P),ne=v(Z,!0);o(Z),o(P),o(H),O(le=>{R(V,`${le??""}...`),R(ne,(U(e()),$(()=>e().content)))},[()=>(U(e()),$(()=>e().content.substring(0,200)))]),D(N,H)},S=N=>{var H=ue(),G=te(H);{var ee=V=>{var P=ue(),Z=te(P);Ys(Z,()=>(U(e()),$(()=>e().contentHtml))),D(V,P)},j=V=>{var P=ca(),Z=v(P,!0);o(P),O(()=>R(Z,(U(e()),$(()=>e().content)))),D(V,P)};W(G,V=>{U(e()),$(()=>e().contentHtml)?V(ee):V(j,!1)},!0)}D(N,H)};W(Y,N=>{U(e()),$(()=>r(e().type)&&n(e().content))?N(h):N(S,!1)},!0)}D(b,A)};W(u,b=>{U(e()),$(()=>e().type==="image")?b(F):b(M,!1)})}o(l),o(T),O(b=>{de(T,1,`message ${U(e()),$(()=>e().cssClass)??""}`,"svelte-1cuch7i"),me(T,"data-message-type",(U(e()),$(()=>e().type))),R(m,`${b??""} ${U(e()),$(()=>e().displayType)??""}`),R(I,(U(e()),$(()=>e().formattedTimestamp)))},[()=>(U(e()),$(()=>t(e().type)))]),D(_,T)};W(d,_=>{U(e()),$(()=>e().isSessionHeader)?_(y):_(w,!1)})}D(s,i),ye()}const fe=ie([]),Re=ie([]),Oe=ie("Claude Transcript"),he=ie(new Set(["user","assistant","sidechain","system","tool_use","tool_result","thinking","image"])),ns=ie(""),ls=ie(null),be=ie(!1),os=Ue([fe,he,ns,ls],([s,a,e,t])=>s.filter(r=>{if(t&&r.sessionId!==t)return!1;if(r.isSidechain){if(!a.has("sidechain")||!a.has(r.type))return!1}else if(!a.has(r.type))return!1;if(e){const n=e.toLowerCase(),i=r.content.toLowerCase().includes(n),d=r.displayType.toLowerCase().includes(n);if(!i&&!d)return!1}return!0})),fa=Ue([fe],([s])=>{const a={user:0,assistant:0,sidechain:0,system:0,tool_use:0,tool_result:0,thinking:0,image:0};for(const e of s)e.isSessionHeader||(a[e.type]=(a[e.type]||0)+1,e.isSidechain&&(a.sidechain=(a.sidechain||0)+1));return a}),ha=Ue([os],([s])=>{const a={user:0,assistant:0,sidechain:0,system:0,tool_use:0,tool_result:0,thinking:0,image:0};for(const e of s)e.isSessionHeader||(a[e.type]=(a[e.type]||0)+1,e.isSidechain&&(a.sidechain=(a.sidechain||0)+1));return a});function pa(s){fe.set(s.messages),Re.set(s.sessions),Oe.set(s.title)}function _a(){fe.set([]),Re.set([]),Oe.set("Claude Transcript"),ls.set(null),ns.set("")}function ga(s){he.update(a=>{const e=new Set(a);return e.has(s)?e.delete(s):e.add(s),e})}function ma(){he.set(new Set(["user","assistant","sidechain","system","tool_use","tool_result","thinking","image"]))}function ba(){he.set(new Set)}var wa=L('<button> <span class="count svelte-1mamdht"> </span></button>'),ya=L('<div><div class="filter-label svelte-1mamdht"><h3 class="svelte-1mamdht">Filter:</h3></div> <div class="filter-toggles svelte-1mamdht"></div> <div class="filter-actions svelte-1mamdht"><button class="filter-action-btn svelte-1mamdht">All</button> <button class="filter-action-btn svelte-1mamdht">None</button> <button class="filter-action-btn close-btn svelte-1mamdht" title="Close filters">‚úï</button></div></div>');function xa(s,a){we(a,!1);const e=()=>se(he,"$activeFilters",i),t=()=>se(be,"$showFilters",i),r=()=>se(fa,"$messageCounts",i),n=()=>se(ha,"$visibleMessageCounts",i),[i,d]=ts(),y=re(),w=[{type:"user",icon:"ü§∑",label:"User"},{type:"assistant",icon:"ü§ñ",label:"Assistant"},{type:"sidechain",icon:"üîó",label:"Sub-assistant"},{type:"system",icon:"‚öôÔ∏è",label:"System"},{type:"tool_use",icon:"üõ†Ô∏è",label:"Tool Use"},{type:"tool_result",icon:"üß∞",label:"Tool Results"},{type:"thinking",icon:"üí≠",label:"Thinking"},{type:"image",icon:"üñºÔ∏è",label:"Images"}];function _(F){ga(F)}function T(){ma()}function c(){ba()}function g(){be.set(!1)}function m(F,M,b,A){return M===0?"(0)":A&&b!==M?`(${b}/${M})`:`(${M})`}ss(()=>e(),()=>{J(y,e().size<w.length)}),as(),xe();var p=ya();let x;var I=E(v(p),2);Le(I,5,()=>w,rs,(F,M)=>{let b=()=>f(M).type,A=()=>f(M).icon,Y=()=>f(M).label;const h=ge(()=>(r(),b(),$(()=>r()[b()]||0))),S=ge(()=>(n(),b(),$(()=>n()[b()]||0))),N=ge(()=>(e(),b(),$(()=>e().has(b()))));var H=ue(),G=te(H);{var ee=j=>{var V=wa();let P;var Z=v(V),ne=E(Z),le=v(ne,!0);o(ne),o(V),O((pe,$e)=>{P=de(V,1,"filter-toggle svelte-1mamdht",null,P,pe),me(V,"data-type",b()),R(Z,`${A()??""} ${Y()??""} `),R(le,$e)},[()=>({active:f(N)}),()=>(b(),U(f(h)),U(f(S)),f(y),$(()=>m(b(),f(h),f(S),f(y))))]),K("click",V,()=>_(b())),D(j,V)};W(G,j=>{f(h)>0&&j(ee)})}D(F,H)}),o(I);var k=E(I,2),C=v(k),l=E(C,2),u=E(l,2);o(k),o(p),O(F=>x=de(p,1,"filter-toolbar svelte-1mamdht",null,x,F),[()=>({visible:t()})]),K("click",C,T),K("click",l,c),K("click",u,g),D(s,p),ye(),d()}var $a=L('<div class="header-actions svelte-1uha8ag"><button class="action-btn svelte-1uha8ag">üóëÔ∏è Clear Data</button> <button class="action-btn svelte-1uha8ag"> </button></div>'),Sa=L('<div class="welcome-section svelte-1uha8ag"><div class="welcome-content svelte-1uha8ag"><h2 class="svelte-1uha8ag">Welcome to Claude Code Log Viewer</h2> <p class="svelte-1uha8ag">Upload your Claude Code transcript files (.jsonl) to view them in an interactive format.</p></div> <!></div>'),Ta=L('<span>‚Ä¢</span> <span class="filtered-count svelte-1uha8ag"> </span>',1),Ca=L('<div class="session-tokens svelte-1uha8ag"> </div>'),Ea=L('<div class="session-item svelte-1uha8ag"><div class="session-summary svelte-1uha8ag"> </div> <div class="session-meta svelte-1uha8ag"><span class="session-messages"> </span> <span class="session-time"> </span></div> <!></div>'),Aa=L('<div class="session-nav svelte-1uha8ag"><h3 class="svelte-1uha8ag">Sessions</h3> <div class="session-list svelte-1uha8ag"></div></div>'),Da=L('<div class="transcript-viewer svelte-1uha8ag"><div class="transcript-header svelte-1uha8ag"><h2 class="svelte-1uha8ag"> </h2> <div class="transcript-stats svelte-1uha8ag"><span> </span> <span>‚Ä¢</span> <span> </span> <!></div></div> <!> <div class="messages-container svelte-1uha8ag"></div></div>'),Fa=L('<div class="floating-actions svelte-1uha8ag"><button class="floating-btn svelte-1uha8ag" title="Toggle filters">üîç</button> <button class="floating-btn svelte-1uha8ag" title="Scroll to top">üîù</button></div>'),Ma=L('<div class="app svelte-1uha8ag"><!> <main><header class="app-header svelte-1uha8ag"><h1 class="svelte-1uha8ag">Claude Code Log Viewer</h1> <!></header> <!></main> <!></div>');function Ra(s,a){we(a,!1);const e=()=>se(fe,"$messages",d),t=()=>se(Oe,"$title",d),r=()=>se(be,"$showFilters",d),n=()=>se(Re,"$sessions",d),i=()=>se(os,"$filteredMessages",d),[d,y]=ts();let w=re(!1);function _(h){const S=h.detail;pa(S),J(w,!0)}function T(h){console.error("Upload failed:",h.detail)}function c(){_a(),J(w,!1)}function g(){be.update(h=>!h)}function m(){window.scrollTo({top:0,behavior:"smooth"})}ss(()=>e(),()=>{J(w,e().length>0)}),as(),xe();var p=Ma();Vs(h=>{O(()=>Rs.title=`${t()??""} - Claude Code Log Viewer`)});var x=v(p);xa(x,{});var I=E(x,2);let k;var C=v(I),l=E(v(C),2);{var u=h=>{var S=$a(),N=v(S),H=E(N,2),G=v(H);o(H),o(S),O(()=>R(G,`üîç ${r()?"Hide":"Show"} Filters`)),K("click",N,c),K("click",H,g),D(h,S)};W(l,h=>{f(w)&&h(u)})}o(C);var F=E(C,2);{var M=h=>{var S=Sa(),N=E(v(S),2);ia(N,{$$events:{success:_,error:T}}),o(S),D(h,S)},b=h=>{var S=Da(),N=v(S),H=v(N),G=v(H,!0);o(H);var ee=E(H,2),j=v(ee),V=v(j);o(j);var P=E(j,4),Z=v(P);o(P);var ne=E(P,2);{var le=B=>{var q=Ta(),oe=E(te(q),2),Se=v(oe);o(oe),O(z=>R(Se,`${z??""} visible`),[()=>(i(),$(()=>i().filter(z=>!z.isSessionHeader).length))]),D(B,q)};W(ne,B=>{i(),e(),$(()=>i().length!==e().filter(q=>!q.isSessionHeader).length)&&B(le)})}o(ee),o(N);var pe=E(N,2);{var $e=B=>{var q=Aa(),oe=E(v(q),2);Le(oe,5,n,rs,(Se,z)=>{var Te=Ea(),Ce=v(Te),vs=v(Ce,!0);o(Ce);var Ee=E(Ce,2),Ae=v(Ee),cs=v(Ae);o(Ae);var Be=E(Ae,2),us=v(Be,!0);o(Be),o(Ee);var ds=E(Ee,2);{var fs=ve=>{var De=Ca(),hs=v(De,!0);o(De),O(()=>R(hs,(f(z),$(()=>f(z).tokenSummary)))),D(ve,De)};W(ds,ve=>{f(z),$(()=>f(z).tokenSummary)&&ve(fs)})}o(Te),O(ve=>{R(vs,ve),R(cs,`${f(z),$(()=>f(z).messageCount)??""} messages`),R(us,(f(z),$(()=>f(z).timestampRange)))},[()=>(f(z),$(()=>f(z).summary||`Session ${f(z).id.substring(0,8)}`))]),D(Se,Te)}),o(oe),o(q),D(B,q)};W(pe,B=>{n(),$(()=>n().length>1)&&B($e)})}var Ve=E(pe,2);Le(Ve,5,i,B=>B.id,(B,q)=>{da(B,{get message(){return f(q)}})}),o(Ve),o(S),O((B,q)=>{R(G,t()),R(V,`${n(),$(()=>n().length)??""} session${n(),$(()=>n().length===1?"":"s")??""}`),R(Z,`${B??""} message${q??""}`)},[()=>(e(),$(()=>e().filter(B=>!B.isSessionHeader).length)),()=>(e(),$(()=>e().filter(B=>!B.isSessionHeader).length===1?"":"s"))]),D(h,S)};W(F,h=>{f(w)?h(b,!1):h(M)})}o(I);var A=E(I,2);{var Y=h=>{var S=Fa(),N=v(S),H=E(N,2);o(S),K("click",N,g),K("click",H,m),D(h,S)};W(A,h=>{f(w)&&h(Y)})}o(p),O(h=>k=de(I,1,"main-content svelte-1uha8ag",null,k,h),[()=>({"with-data":f(w)})]),D(s,p),ye(),y()}export{Ra as component};
